

# <img src="https://github.com/BobLd/lean-monitor-2/blob/master/logo/logo_plain.ico" width="25"> Panoptes (lean-monitor-2)
## About
Panoptes is an open-source Desktop based tool to browse [QuantConnect Lean](https://github.com/QuantConnect/Lean) engine's backtest and monitor live performances. It is updated and ported from https://github.com/mirthestam/lean-monitor.

Available for Windows, Linux and MacOS using [Avalonia](https://github.com/AvaloniaUI/Avalonia). Legacy WPF version available in the[ wpf-legacy branch](https://github.com/BobLd/lean-monitor-2/tree/wpf-legacy).

## Download
Download the latest binaries from the [Releases](https://github.com/BobLd/lean-monitor-2/releases) page. Windows, Linux and MacOS versions are available.

## How to use
### Sessions

- **File**: For backtest, open the main backtest `.json` file. The `order-events.jsom` file will also be loaded. If the button is grayed out, it means that the app can't find the file. You can also replace the `.json` extension by `.qcb` and use Panoptes to open the main file by double clicking on the `.qcb` file.
![backtest](https://github.com/BobLd/lean-monitor-2/blob/master/capture.png)
- **Stream**: ([source](https://github.com/mirthestam/lean-monitor#starting-from-a-stream)) Panotpes reads status messages generated by the Lean `StreamingMessageHandler`. Configure the Launcher configuration file (`config.json`) with:
  >"messaging-handler": "QuantConnect.Messaging.StreamingMessageHandler"
- **MongoDB**: Expected packets:
```csharp
    public class MongoDbPacket
    {
        public ObjectId Id { get; set; }

        [BsonRequired]
        public string Channel { get; internal set; }

        [BsonRequired]
        public string Type { get; internal set; }

        [BsonRequired]
        public string Message { get; internal set; }
    }
```
- **Mock**: Build in debug mode and open a 'Stream' session. This will launch a mock data feed.
![demo](https://github.com/BobLd/lean-monitor-2/blob/master/demo.gif)
